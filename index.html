<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport"
      content="width=device-width,initial-scale=1,viewport-fit=cover">
<title>Prestige Aura – Home</title>
<style>
  :root{--bg:#0b0b0f;--fg:#f7f7f7;--gold:#d4af37;--muted:#9ca3af;--accent:#8b5cf6;--card:#111116;--bd:#202025;}
  html,body{margin:0;padding:0;background:var(--bg);color:var(--fg);font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif}
  .wrap{max-width:720px;margin:0 auto;padding:14px}
  header{display:flex;justify-content:center;align-items:center}
  .logo{width:42px;height:42px;border-radius:50%;background:#121216;display:grid;place-items:center;color:var(--gold);font-weight:700;box-shadow:0 0 18px #000 inset,0 0 6px #000}
  .title{font-size:18px;text-align:center;margin:10px 0 6px}
  .sub{font-size:12px;color:var(--muted);text-align:center}
  .banner{margin:12px 0;border:1px solid var(--bd);background:linear-gradient(135deg,#16161b,#101015);border-radius:14px;padding:14px;position:relative;overflow:hidden}
  .banner::after{content:"";position:absolute;inset:-40%;background:radial-gradient(closest-side,rgba(212,175,55,.18),transparent 65%);animation:glow 5s linear infinite;transform:translateX(-50%);left:-20%}
  @keyframes glow{0%{left:-20%}50%{left:120%}100%{left:-20%}}
  .points{display:grid;grid-template-columns:1fr 1fr;gap:8px;margin-top:8px}
  .pt{border:1px dashed #2a2a30;border-radius:10px;padding:8px;font-size:12px;color:#ddd}
  .btn{width:100%;border:1px solid var(--bd);background:#171720;border-radius:12px;padding:12px 10px;color:#fff;font-weight:700;cursor:pointer}
  .btn.gold{background:linear-gradient(180deg,#3a2f13,#1d1609);color:var(--gold)}
  .btn.acc{background:linear-gradient(180deg,#1a1630,#120e22);color:#d6ccff}
  .row{display:flex;gap:10px}
  .col{display:flex;flex-direction:column;gap:10px}
  .card{border:1px solid var(--bd);background:var(--card);border-radius:12px;padding:12px}
  .kv{display:flex;align-items:center;justify-content:space-between;font-size:12px;color:#ddd}
  .copybox{font-size:12px;border:1px dashed #333;border-radius:8px;padding:8px;color:#cfcfe6}
  .floating{position:fixed;right:10px;bottom:10px;background:#121217;border:1px solid #26262d;border-radius:10px;padding:8px 10px;font-size:12px;box-shadow:0 6px 24px rgba(0,0,0,.4)}
  .muted{color:var(--muted)}
  .hide{display:none}
  /* 小屏一屏显示优化 */
  @media (max-width:420px){
    .points{grid-template-columns:1fr}
    .row{flex-direction:column}
  }
</style>
</head>
<body>
<div class="wrap">
  <header><div class="logo">PA</div></header>

  <h1 class="title" id="t-title">人人都可白嫖黄金和顶级复刻手表！</h1>
  <div class="sub" id="t-sub">Spin now. Low cost, high thrill.</div>

  <div class="banner">
    <div class="kv">
      <div class="muted" id="t-tip">No scrolling • All-in-one screen • Telegram WebApp</div>
      <div id="inviteState" class="muted">Invite 0 / 3</div>
    </div>
    <div class="points">
      <div class="pt" id="t-p1">Invite 3 friends → Re-open Guaranteed mode</div>
      <div class="pt" id="t-p2">Post a win screenshot → TON cashback (up to full)</div>
    </div>
    <div class="row" style="margin-top:10px">
      <button class="btn gold" onclick="goSpin('unlimited')">🎯 <span id="t-unl">Unlimited Draw</span></button>
      <button class="btn acc"  onclick="goSpin('guaranteed')">💎 <span id="t-gtd">Guaranteed Win</span></button>
    </div>
    <div class="row" style="margin-top:8px">
      <button class="btn" onclick="copyInvite()">📣 <span id="t-invite">Invite Friends</span></button>
    </div>
  </div>

  <div class="card">
    <div class="kv"><b id="t-price-title">Current price</b><span><span id="price">1</span> TON</span></div>
    <div class="muted" id="t-price-desc">Weekday Unlimited: 1 TON / Weekend: 2 TON. Guaranteed increases by round.</div>
  </div>

  <div class="card">
    <div class="kv"><b id="t-how">How it works</b><span class="muted">PA</span></div>
    <ul class="muted" style="margin:8px 0 0 16px;line-height:1.6;font-size:12px">
      <li id="t-h1">Tap mode → Enter wheel</li>
      <li id="t-h2">Jackpot locks on spin</li>
      <li id="t-h3">Pay TON → Real/fake verify supported</li>
      <li id="t-h4">Result revealed with confetti</li>
    </ul>
  </div>

  <div class="card">
    <div class="kv"><b id="t-share">Your invite link</b><span class="muted">Copy & share</span></div>
    <div id="linkBox" class="copybox" style="margin-top:6px"></div>
  </div>
</div>

<!-- 假播报（不显示具体款式，只显示类型与价值） -->
<div id="feed" class="floating">—</div>

<script>
/* ===== i18n: EN + ZH ===== */
const I18N={
  en:{
    title:"Everyone Can Win Free Gold & Luxury Replica Watches!",
    sub:"Spin now. Low cost, high thrill.",
    tip:"No scrolling • All-in-one screen • Telegram WebApp",
    unl:"Unlimited Draw", gtd:"Guaranteed Win", invite:"Invite Friends",
    p1:"Invite 3 friends → Re-open Guaranteed mode",
    p2:"Post a win screenshot → TON cashback (up to full)",
    priceTitle:"Current price",
    priceDesc:"Weekday Unlimited: 1 TON / Weekend: 2 TON. Guaranteed increases by round.",
    how:"How it works",
    h1:"Tap mode → Enter wheel",
    h2:"Jackpot locks on spin",
    h3:"Pay TON → Real/fake verify supported",
    h4:"Result revealed with confetti",
    share:"Your invite link",
    copied:"Invite link copied!",
    feedLines:[
      "won a Super Clone Watch worth $1000!",
      "won Pure Gold Jewelry worth $500!",
      "won a Lucky Charm Gold worth $300!"
    ]
  },
  zh:{
    title:"人人都可白嫖黄金和顶级复刻手表！",
    sub:"现在就开转盘，低成本高刺激。",
    tip:"一屏呈现 • Telegram 内打开 • 无需跳出",
    unl:"无限抽奖", gtd:"百分百中奖", invite:"邀请好友",
    p1:"邀请 3 人 → 重新解锁百分百中奖",
    p2:"晒单返 TON（最高全返）",
    priceTitle:"当前费用",
    priceDesc:"工作日无限抽：1 TON / 周末：2 TON。百分百模式按轮次递增。",
    how:"玩法说明",
    h1:"选择模式 → 进入转盘",
    h2:"点击开始 → 大奖先锁定",
    h3:"支付 TON → 支持真实/伪验证",
    h4:"验证通过 → 撒花开奖",
    share:"你的邀请链接",
    copied:"邀请链接已复制！",
    feedLines:[
      "获得了价值 $1000 的超级克隆手表！",
      "获得了价值 $500 的足金饰品！",
      "获得了价值 $300 的转运足金饰品！"
    ]
  }
};
function getLang(){
  const tg = window.Telegram?.WebApp?.initDataUnsafe?.user?.language_code;
  const nav = (navigator.language||"en").slice(0,2).toLowerCase();
  const c = (tg||nav||"en").toLowerCase();
  return I18N[c]?c:"en";
}
const L = I18N[getLang()];
function T(id,key){const el=document.getElementById(id); if(el) el.textContent=L[key];}

/* ===== 填充文案 ===== */
T("t-title","title"); T("t-sub","sub"); T("t-tip","tip");
T("t-unl","unl"); T("t-gtd","gtd"); T("t-invite","invite");
T("t-p1","p1"); T("t-p2","p2");
T("t-price-title","priceTitle"); T("t-price-desc","priceDesc");
T("t-how","how"); T("t-h1","h1"); T("t-h2","h2"); T("t-h3","h3"); T("t-h4","h4");
T("t-share","share");

/* ===== 价格逻辑（周末加价 / 百分百按轮次递增） ===== */
const config={unl:{wd:1,we:2}, gtd:[1,3,6,12,24]};
function isWeekend(){return ![1,2,3,4,5].includes((new Date()).getDay());}
const price = isWeekend()? config.unl.we : config.unl.wd;
document.getElementById("price").textContent = String(price);

/* ===== 邀请：生成专属链接 + 上报 ref（可接后端） ===== */
const myId = window.Telegram?.WebApp?.initDataUnsafe?.user?.id || (Math.random()+"").slice(2,9);
const inviteLink = location.origin + location.pathname + "?ref=" + myId;
document.getElementById("linkBox").textContent = inviteLink;

function copyInvite(){
  navigator.clipboard.writeText(inviteLink).then(()=>toast(L.copied)).catch(()=>toast(inviteLink));
}

/* ===== 路由：进入转盘页 spin.html ===== */
function goSpin(mode){
  // 进入转盘时把 ref 也带过去
  const ref = new URLSearchParams(location.search).get("ref");
  const q = new URLSearchParams();
  q.set("mode",mode);
  if(ref) q.set("ref",ref);
  location.href = "./spin.html?" + q.toString();
}

/* ===== 假播报（类型+价值） ===== */
(function feed(){
  const users=["@alex","@maria","@lihao","@john","@nina","@sam","@peter","@anna"];
  const lines = L.feedLines;
  const box=document.getElementById("feed");
  function tick(){box.textContent = users[(Math.random()*users.length)|0] + " " + lines[(Math.random()*lines.length)|0];}
  tick(); setInterval(tick, 5000);
})();

/* ===== 小提示 ===== */
function toast(s){
  const el=document.getElementById("feed"); // 复用浮层
  const old=el.textContent;
  el.textContent=s;
  setTimeout(()=>{el.textContent=old;},1600);
}

/* ===== 邀请进度（前端占位，接后端可更新） ===== */
document.getElementById("inviteState").textContent = "Invite 0 / 3";
</script>
</body>
</html>

